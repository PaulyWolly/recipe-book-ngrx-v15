{"ast":null,"code":"import { HttpClient } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport { Router } from '@angular/router';\nimport { UntypedFormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = function () {\n  return [\"/auth\"];\n};\nexport let ForgotPasswordComponent = /*#__PURE__*/(() => {\n  class ForgotPasswordComponent {\n    constructor(http, route) {\n      this.http = http;\n      this.route = route;\n      this.error = '';\n      this.emailFormControl = new UntypedFormControl('', [Validators.required, Validators.email]);\n    }\n    forgotPassword(email) {\n      const mailFormat = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n      if (email === '') {\n        alert('Please enter an email!');\n      }\n      // Firebase API Key\n      const APIKey = environment.firebaseAPIKey;\n      const fbUrl = 'https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=' + APIKey;\n      // console.log('email: ', email);\n      this.http.post(fbUrl, {\n        email,\n        requestType: 'PASSWORD_RESET'\n      }).subscribe(theEmail => {\n        console.log('email in subscribe: ', theEmail);\n        alert('Password reset has been sent to your email. If you don\\'t see the reset email in your INBOX then please check your SPAM folder.');\n        this.route.navigate(['/auth']);\n      });\n    }\n  }\n  ForgotPasswordComponent.ɵfac = function ForgotPasswordComponent_Factory(t) {\n    return new (t || ForgotPasswordComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  ForgotPasswordComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ForgotPasswordComponent,\n    selectors: [[\"app-forgot-password\"]],\n    decls: 23,\n    vars: 2,\n    consts: [[1, \"forgot-password-container\"], [1, \"row\"], [1, \"col-xs-12\", \"col-md-6\", \"col-md-offset-3\"], [1, \"fp-title\", 2, \"margin-bottom\", \"20px\", \"font-size\", \"24px\"], [\"onload\", \"document.fpform.email.focus()\", \"name\", \"fpform\", \"action\", \"#\", 1, \"forgot-password\"], [\"fpform\", \"ngForm\"], [2, \"text-align\", \"left\", \"margin-bottom\", \"20px\"], [1, \"form-group\"], [\"for\", \"email\"], [\"type\", \"email\", \"name\", \"email\", \"id\", \"floatingInput\", \"placeholder\", \"name@example.com\", \"required\", \"\", 1, \"form-control\"], [\"passwordResetEmail\", \"\"], [\"type\", \"button\", \"value\", \"Log in\", 1, \"w-100\", \"btn\", \"btn-primary\", 3, \"click\"], [1, \"redirectToLogin\", 2, \"margin-top\", \"30px\"], [1, \"returnToLogin\", 2, \"font-size\", \"18px\", 3, \"routerLink\"]],\n    template: function ForgotPasswordComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r2 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\", 3);\n        i0.ɵɵtext(4, \"Forgot Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"form\", 4, 5)(7, \"p\", 6);\n        i0.ɵɵtext(8, \"Enter your email address for a password reset.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 7)(10, \"label\", 8);\n        i0.ɵɵtext(11, \"E-Mail\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"input\", 9, 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\")(15, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function ForgotPasswordComponent_Template_button_click_15_listener() {\n          i0.ɵɵrestoreView(_r2);\n          const _r1 = i0.ɵɵreference(13);\n          return i0.ɵɵresetView(ctx.forgotPassword(_r1.value));\n        });\n        i0.ɵɵtext(16, \" Reset the Password \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 12)(18, \"span\");\n        i0.ɵɵtext(19, \"Go back to \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(20, \"\\u00A0 \");\n        i0.ɵɵelementStart(21, \"a\", 13);\n        i0.ɵɵtext(22, \"Login\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(21);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n      }\n    },\n    dependencies: [i2.RouterLink, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm],\n    styles: [\".forgot-password-container[_ngcontent-%COMP%]{margin-top:145px;margin-left:auto;margin-right:auto}main.form-signin[_ngcontent-%COMP%]{position:relative;width:350px;margin-left:auto;margin-right:auto}.fp-title[_ngcontent-%COMP%], .returnToLogin[_ngcontent-%COMP%]{text-shadow:#FC0 1px 0 10px}#floatingInput[_ngcontent-%COMP%]{height:40px}\"]\n  });\n  return ForgotPasswordComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}